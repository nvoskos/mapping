<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Web Assistant</title>
  <link rel="stylesheet" href="popup.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>AI Web Assistant</h1>
      <button id="sticky-mode-btn" class="icon-btn" title="Toggle Sticky Mode">ğŸ“Œ</button>
      <button id="settings-btn" class="icon-btn" title="Settings">âš™ï¸</button>
    </header>

    <div id="api-key-warning" class="warning hidden">
      Please configure your Tavily API key in settings
    </div>

    <div class="tabs">
      <button class="tab-btn active" data-tab="tools">Tools</button>
      <button class="tab-btn" data-tab="ai-skills">AI Skills</button>
    </div>

    <div class="tab-content active" id="tools-tab">
      <div class="section">
        <h2>ğŸ” Search</h2>
        <input type="text" id="search-input" placeholder="Enter search query...">
        <div class="options">
          <label>
            <input type="checkbox" id="search-deep"> Deep Search
          </label>
          <label>
            Max Results: <input type="number" id="search-max" value="5" min="1" max="20">
          </label>
        </div>
        <button id="search-btn" class="action-btn">Search</button>
      </div>

      <div class="section">
        <h2>ğŸ“„ Extract</h2>
        <input type="text" id="extract-url" placeholder="Enter URL to extract...">
        <button id="extract-btn" class="action-btn">Extract Content</button>
        <button id="extract-current-btn" class="action-btn secondary">Extract Current Page</button>
      </div>

      <div class="section">
        <h2>ğŸ—ºï¸ Map</h2>
        <input type="text" id="map-url" placeholder="Enter URL to map...">
        <div class="options">
          <label>
            Max Depth: <input type="number" id="map-depth" value="2" min="1" max="5">
          </label>
        </div>
        <button id="map-btn" class="action-btn">Create Map</button>
        <button id="map-current-btn" class="action-btn secondary">Map Current Site</button>
      </div>

      <div class="section">
        <h2>ğŸ•·ï¸ Crawl</h2>
        <input type="text" id="crawl-url" placeholder="Enter URL to crawl...">
        <div class="options">
          <label>
            Max Pages: <input type="number" id="crawl-max" value="10" min="1" max="50">
          </label>
        </div>
        <button id="crawl-btn" class="action-btn">Start Crawl</button>
        <button id="crawl-current-btn" class="action-btn secondary">Crawl Current Site</button>
      </div>
    </div>

    <div class="tab-content" id="ai-skills-tab">
      <div class="section">
        <h2>ğŸ“ Summarize</h2>
        <textarea id="summarize-input" placeholder="Paste text or use Extract tool first..."></textarea>
        <button id="summarize-btn" class="action-btn">Summarize</button>
        <button id="summarize-current-btn" class="action-btn secondary">Summarize Current Page</button>
      </div>

      <div class="section">
        <h2>âœ… Fact Check</h2>
        <textarea id="factcheck-input" placeholder="Enter claim to fact check..."></textarea>
        <button id="factcheck-btn" class="action-btn">Fact Check</button>
      </div>

      <div class="section">
        <h2>ğŸ“Š Create Report</h2>
        <input type="text" id="report-topic" placeholder="Enter report topic...">
        <div class="options">
          <label>
            Report Type:
            <select id="report-type">
              <option value="comprehensive">Comprehensive</option>
              <option value="summary">Summary</option>
              <option value="technical">Technical</option>
            </select>
          </label>
        </div>
        <button id="report-btn" class="action-btn">Generate Report</button>
      </div>

      <div class="section">
        <h2>ğŸ”¬ Analyze</h2>
        <textarea id="analyze-input" placeholder="Paste content to analyze..."></textarea>
        <div class="options">
          <label>
            Analysis Type:
            <select id="analyze-type">
              <option value="general">General</option>
              <option value="sentiment">Sentiment</option>
              <option value="technical">Technical</option>
              <option value="competitive">Competitive</option>
            </select>
          </label>
        </div>
        <button id="analyze-btn" class="action-btn">Analyze</button>
        <button id="analyze-current-btn" class="action-btn secondary">Analyze Current Page</button>
      </div>
    </div>

    <div id="results" class="results hidden">
      <div class="results-header">
        <h3>Results</h3>
        <button id="clear-results" class="icon-btn">âœ•</button>
      </div>
      <div id="results-content"></div>
    </div>

    <div id="loading" class="loading hidden">
      <div class="spinner"></div>
      <p>Processing...</p>
    </div>
  </div>

  <script src="popup.js" type="module"></script>
</body>
</html>
